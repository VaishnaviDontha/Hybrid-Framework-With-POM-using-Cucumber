# Hybrid-Framework-With-POM-using-Cucumber
# Cucumber-SE-Java

Cucumber 

BDD - Behaviour Driven Development
System Desired Behaviour


We start by collaboratively discovering the scope of the behaviour required by the story. Once we have agreed on that behaviour, we formulate the specification in business-readable language. Finally, we automate the formulated specification to verify that the system actually behaves as expected.


Cucumber is a tool that understands your documentation and turns it into automated tests.

BDD is a collaborative approach, made up of three practices. BDD practitioners may use Cucumber to automate their documentation.



We call it "Living Documentation" because the documentation automatically tells us when it goes out of sync with the behaviour of the application. That's what special about it.

You might well review it as part of your definition of done, but that would also be true of any kind of specification document you wrote, even if it wasn't automatically validated.

It's not generated by automated tests - you still have to write it! The automated tests just tell you whether what you wrote is true or not.

You might well have a change control process for it - we encourage you to keep it in source control with the code it describes - but again that's nothing special. You could have a wonderfully transparent change control process for a Word document and it could still be completely out of date and wrong.



Needs to be done at last repsonisble moment


BDD is a collaborative activity. Living documentation is a secondary, valuable, output of applying BDD practices.

BDD is a collection of practices that build upon agile ways of working, helping teams succeed. For these practices to deliver value, you'll need to be working in an agile way.




Feature 
Scenario - describes the example
Given - context
When - action
Then - outcome

And



Each line in a Scenario that begins with one of the Given / When / Then keywords is called a step.

When Cucumber tells us that a step is undefined, that means it doesn't know what we want it to do in order to automate that step. We have to tell Cucumber what to do by providing step definitions.


    ===========================================================


What's BDD : 
	
	- Helps to reduce rework caused by incomplete requirements, communication gaps b/w dev, testing, customers. 
	- It is defined in a plain descriptive English (Gherkin) 
	- Also, serves as documentation.

Working of Cucumber : 

	- It reads plain English (Gherkin - Domain Specific Language) written in a .feature file.
	- Finds respective map with step and step defination.
	- Used in different frameworks like SE, etc
	- Supports platforms like., SE, Spring framework, etc

Example : 

	Feature : Perform login functionality
	Scenario : Perform login functionality with valid credentials

	Given User is on Home page
	When User enters username as "Username"
	And User enters password as "password"
	Then User should be able to login successfully


Installation for VScode with Maven : 
	
	- Snippets and Syntax
	- Cucumber (Gherkin)
	- Feature syntax 


Project Structure :

	+---.idea
	+---main
	|   +---java
	|   +---resources
	\---test
	|   +---java
	|   |   \---stepdefs
	|   |   |   |---ServiceHooks.java
	|   |   |   |---StepDefinitions.java
	|   |   |---TestRunner.java
	|   \---resources
	|       \---features
	|           |---LoginProfile.feature
	|           |---UpdateProfile.feature
	|---pom.xml
	|---testng.xml


Feature Files --> Step Defination Class --------> Test Runner
				  ( We can also map this          ( Cucumber Options 
				  	to a Utility class such as 		Feature Path
				  	Excel functionalities )			Step Defination Path
				  									Report )

Parameterization in Cucumber (Data Driven Testing)

	- CSV , Excel or within the Script (DataTable)
  
  Scenario Outline 


Page Object Model via Cucumber BDD

	Design Pattern to create Object Repository 
	A class for each Page to identify Web Elements in it
	Also with methods to perfom respective actions on the objecys
	Separates test objects and test scripts
	For reusable and maintainence, Easier, Faster , Reliable , Readability

Page Factory 

	Simple easier implementation of POM in SE
	inbuilt
	@FindBy = to find WebElements 
	initElements = to initialise WebElements

	@CacheLookup

	AjaxElementLocatorFactoryClass 
	Can be able to locate list of elements 

Tags 

	Used to organize Features and Scenarios = @TagName
	- can have multiple tags or single tags
	- can have combination of tags using AND OR 
	- can skip scenarios having a specific tag

	Can be placed above Feature, Scenario Outline ot Scenario

Hooks 
	Used to setup or teardown the environment before and after each scenario.
	Two types - @After @Before
	
	Scenario hooks = @After @Before
	Step Hooks = @AfterStep @BeforeStep
	Conditional/Tagged hooks = After('tagname') Before('tagname')

Background 
	A Step or group of steps that are common to all the scenarios in a feature
	Defined once and executes at every scenario of the feature
 Why? 
 	Readability
 	Maintanability
 	Avoiding repeatition
 	Common steps to be visible to BA 

Executing via CMD

	If MAVEN = mvn test

	Using Tags = mvn test -Dcucumber.filter.tags="@tagname"
	
	Exe a Feature file = mvn test -Dcucumber.options="/path/of/feature/file"
 
	To create a Report = mvn test -Dcucumber.options=="--plugin junit:target/cucumber-reports/cucumberReport.xml"

	Combining Parameters = mvn test -Dcucumber.options="pathOfFeatureFile.feature" -Dcucumber.filter.tags="@InValidCredentials"

	Exe a Feature/Scenario = mvn test -Dcucumber.options="pathOfFeatureFile.feature" 

Reports 
	
	Maven cucumber Reporting 
		- Add respective dependency
		- https://stackoverflow.com/questions/51257224/maven-cucumber-reporting-plugin-is-not-generating-the-report-nothing-happens
		- 


======= Cucumber + Java + TestNG + VSCode + Maven =======


	Maven Dependencies 
	    i. Cucumber-Java
	   ii. Cucumber-TestNG
	  iii. Surefire Plugin 

	Plugins
		i. Gherkin
	   ii. Cucumber for Java
	  iii. TestNG
	   iv. Java for VSCode
	    v. Maven

	Follow Project Structure 

		+---.idea
		+---main
		|   +---java
		|   +---resources
		\---test
		|   +---java
		|   |   \---stepdefs
		|   |   |   |---ServiceHooks.java
		|   |   |   |---StepDefinitions.java
		|   |   |---TestRunner.java
		|   \---resources
		|       \---features
		|           |---LoginProfile.feature
		|           |---UpdateProfile.feature
		|---pom.xml
		|---testng.xml

	Cucumber Concepts

		i. Gherkin
	   ii. Feature Files and Scenarios
	  iii. Runner class
	   iv. Java class for a respective Feature file
	    v. Execution via cmdline 
	   vi. Data Driven Testing (DataTables)  
	  vii. Hooks  
	 viii. Tags 
	   ix. Reporting 
	    x. POM
	   xi. Page Factory
	  xii. Parallel Testing 

	* Reading Data from various source files like JSON, XML, Excel with Cucumber


	GHERKIN 

		- A set of keywords used to structure to an executable specification
		- Unambigous executable specification
		- Automated tests via Cucumber
		- Used to document the system behaviour

	  # = Comments 

	FEATURE FILE 

		- A file which is used to store features, scenarios to be tested. 

	  Feature 
		- High level description of the Test scenario

	  Scenario 
	  	- Steps followed for a test case and expected behaviour

	  Scenario Outline
	  	- Used to execute a scenario multiple times with multiple test data for a test case. 

	  Background 
	  	- Used to combine common steps of all scenarios into one.

	  	Why? 
		 	Readability
		 	Maintanability
		 	Avoiding repeatition
		 	Common steps to be visible to BA 

	  Steps 
	  	- It starts with Given, When, Then, And/But. 
	  	- Executes one at a time and searches for matching step defination during the execution.

	  	Given 
	  		- Used for the Initial context of the scenario. 
	  		- Creation/Configuration setup is done (in general)
	  	When 
	  		- Used while performing an action
	  	Then
	  		- Used to check/describe the expected behaviour of the system
	  	And/But
	  		- Used when user has multiple Given/When/Then

	STEP DEFINATION

		- Java method which is used to link Gherkin steps. 
		- Using the GLUE code under CucumberOptions, Cucumber is able to match respective step defination to the given Gherkin Steps.
		- If there's NO matching stepdefination, Cucumber throws an error stating so and so steps are undefined.

	TEST RUNNER CLASS

		- A Java class which is used to execute the Feature file.
		- created under src/test/java
		- Can be used JUnit/TestNG Test runner.

	REPORTS 

		Local Reports
			- Can be generated in HTML/XML/JSON/TXT
			- User need to add below snippets in Test Runner class to @CucumberOptions -> plugin = { }
			
				Html = html:path
				Json = json:path/report.json
				Xml  = junit:path/report.xml 

		Cucumber Report Services	
			- Add cucumber-jvm dependency
			- cucumber.publish.enabled=true add this property in cucumber.properties (file must be under src/test/resources)

		Maven cucumber Reporting 
			- Add respective dependency
			- https://stackoverflow.com/questions/51257224/maven-cucumber-reporting-plugin-is-not-generating-the-report-nothing-happens

	DATA DRIVEN TESTING 

		Scenario Outline and Examples 
			- Used to execute same tests with different set of test data using Examples keyword.

			For Example : 
				Scenario Outline: Login with invalid credentials
	 
				    Given User is on Home page
				    When User enters username as "<username>" and password as "<password>"
				    Then User should be able to see an "<errorMessage>"
				 
				    Examples:
				      | username   | password | errorMessage             |
				      | Admin1     | admin1   | Invalid credentials      |
				      |            | admin123 | Username cannot be empty |
				      | Admin      |          | Password cannot be empty |

			- Table MUST have header row same as the variable in Scenario Outline. Arguments are separated by '|'

	DATATABLES

		- Used to add set of parameters in Step Defination (Tabular format) rather than putting it in Gherkin. (List of Maps or Map of Lists)

				List<List<String>> table
				List<Map<String, String>> table
				Map<String, String> table
				Map<String, List<String>> table
				Map<String, Map<String, String>> table 

		- Here, no Keywords are used. Works for the step where it is defined

		- https://priyank-it.medium.com/cucumber-data-table-access-usage-95a0bc75011f


	HOOKS 
		- Blocks of code used to execute at various places of the execution.
		- Used to do pre-requisite steps or post execution.

			Scenario Hooks 		= @Before @After         = Executes before/after the First/Last step of a scenario.
			Step Hooks	   		= @BeforeStep @AfterStep = Executes before/after a step
			Conditional Hooks   = @Before('tagname') @After('tagname') = Used to execute selected steps w.r.t the tags mentioned in the scenario. Also referred as Tagged Hooks

	TAGS 

		Used to organize Features and Scenarios = @TagName
		- can have multiple tags or single tags
		- can have combination of tags using AND OR 
		- can skip scenarios having a specific tag

		Can be placed above Feature, Scenario Outline ot Scenario

	
	EXECUTION via CMD

		- If MAVEN = mvn test
		- Using Tags = mvn test -Dcucumber.filter.tags="@tagname"
		- Exe a Feature file = mvn test -Dcucumber.options="/path/of/feature/file"
		- To create a Report = mvn test -Dcucumber.options=="--plugin junit:target/cucumber-reports/cucumberReport.xml"
		- Combining Parameters = mvn test -Dcucumber.options="pathOfFeatureFile.feature" -Dcucumber.filter.tags="@InValidCredentials"
		- Exe a Feature/Scenario = mvn test -Dcucumber.options="pathOfFeatureFile.feature" 

	PARALLEL TESTING

	  Via Maven 

	  		<configuration>
		        <parallel>methods</parallel>
    		</configuration>

      Via TestNG DataProvider 

      		Add below snippet in the Runner class 
      		@DataProvider(parallel = true)


||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||


	We will be designing different components in this Framework:
		1. Feature Files
		2. Step Definition Classes
		3. Configuration Files
		4. Cucumber Hooks with before and after
		5. Element Utilities/Libraries/Generic Functions
		6. Cucumber 6 Extent Report Adaptor for Spark HTML / PDF Reports
		7. Test Runners in JUnit
		8. Page Classes for POM
		9. Maven with pom.xml with different dependencies and plugins
		10. Parallel Execution
		11. Cucumber 6 Web HTML Reports
		12. Screenshot for Failure scenarios
		13. Integration with GIT Repo
		14. Running test cases from Jenkins
		15. Running test cases on Dockerized Selenium GRID
		And much more.....

	Technologies Used:
		1. Selenium WebDriver with Java Language binding
		2. Cucumber 6.x JVM library
		3. WebDriverManager
		4. JDK 1.8
		5. Maven (Build tool)
		6. Maven Plugins
		7. Cucumber extent report 6 adapter
		8. JUnit 4.x library
		9. Log4j
		10. GIT HUB - Git Repo
		11. Docker
		12. Jenkins
		13. Eclipse (IDE)

	Plugins
		Maven - pom.xml
		Dependencies - WD, WDM
		Cucumber - 6.9
		TestNG - 
		Plugins - surefire, failsafe
------------------------------------------------------------------------------------------------------------------------------------------------------

	To have a Maven Cucumber Java Project in VSCode. 
		1. Add cucumberautocomplete plugin
		2. Add respective json settings to .vscode/setting.json
		3. Reload the project





